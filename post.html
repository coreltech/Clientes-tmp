<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Art√≠culo</title>
  <link rel="stylesheet" href="css/post.css" />
</head>
<body>
  <main id="post-container"></main>

  <script>
    const params = new URLSearchParams(window.location.search);
    const postId = params.get("id");
    const API_URL = `http://localhost:8055/items/posts/${postId}?fields=*,cover.*`;

    async function fetchPost() {
      try {
        const response = await fetch(API_URL);
        const { data } = await response.json();

        document.getElementById("post-container").innerHTML = `
          <article>
            <h1>${data.title}</h1>
            <img src="http://localhost:8055/assets/${data.cover?.id || ''}" alt="${data.title}" />
            <div>${data.content}</div>
          </article>
        `;
      } catch (error) {
        console.error("Error al cargar el post:", error);
      }
    }

    document.addEventListener("DOMContentLoaded", fetchPost);
  </script>
</body>
</html>
